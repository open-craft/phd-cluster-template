# Cluster Authentication

This page describes how to authenticate to the Kubernetes cluster and to ArgoCD/Argo Workflows.

## Kubernetes Access (kubeconfig)

Cluster access is configured via kubeconfig, generated by Terraform. The kubeconfig is used by the Launchpad CLI and can be used for manual interaction with the cluster as well.

To get the kubeconfig generated, run `tofu apply -target local_sensitive_file.kubeconfig`. The command will render the file in the `infrastructure` directory under the name of `.kubeconfig`.

Example after provisioning:

```bash
export KUBECONFIG=/path/to/.kubeconfig
kubectl get nodes
```

Another option for ensuring the Kubernetes access is provided is by running `source ./activate` in the cluster repository root. It will set the `KUBECONFIG` path. Make sure the `.kubeconfig` file is present before running the command.

## ArgoCD Users

Users for ArgoCD are created with the Launchpad CLI. See [Creating ArgoCD Users](../infrastructure/provisioning.md#creating-argocd-users) in the Infrastructure Provisioning guide for:

- `phd_create_argo_user` -  Create users with roles (admin, developer, readonly)
- `phd_update_argo_user` -  Update role or password
- `phd_delete_argo_user` -  Remove a user

After creating or updating users, restart the ArgoCD server so changes take effect:

```bash
kubectl delete pod -n argocd -l app.kubernetes.io/name=argocd-server
```

## Web UI Access

- **ArgoCD**: `https://argocd.<cluster-domain>`

Use the credentials created with `phd_create_argo_user` or the admin password set (or generated) during `phd_install_argo`.

## Related Documentation

- [Cluster Overview](index.md) -  Cluster operations
- [Infrastructure Provisioning](../infrastructure/provisioning.md) -  Creating ArgoCD users
- [Cluster Configuration](configuration.md) -  Launchpad env vars and kubeconfig
- [Instances Overview](../instances/index.md) -  Instance access

## See Also

- [Infrastructure Overview](../infrastructure/index.md) -  ArgoCD and Argo Workflows
- [Instance Provisioning](../instances/provisioning.md) -  Instance creation
- [User Guides Overview](../user-guides/index.md) -  Task-based guides
